![image](../img/timg.jpg)
<br>

## 前言

本人平时学习及收集内容，欢迎参入一起讨论。

## 关于作者

一个工作八年的草根程序员。

## 内容

- [实现一个new操作符](#一实现一个new操作符)
- [实现一个JSON.stringify](#二实现一个JSON.stringify)
- [实现一个JSON.parse](#三实现一个JSON.parse)
- [实现一个call或apply](#四实现一个call或apply)
- [实现一个Function.bind](#五实现一个Function.bind)
- [实现一个继承](#六实现一个继承)
- [实现一个JS函数柯里化](#七实现一个JS函数柯里化)
- [手写一个Promise(中高级必考)](#八手写一个Promise(中高级必考))
- [手写防抖(Debouncing)和节流(Throttling)](#九手写防抖(Debouncing)和节流(Throttling))
- [手写一个JS深拷贝](#十手写一个JS深拷贝)
- [实现一个instanceOf](#十一实现一个instanceOf)
- 实现一个基本的Event Bus
- Object.create的基本实现原理
- 使用setTimeout模拟setInterval
- 简单实现一个双向数据绑定
- 实现一个简单路由
- 实现懒加载
- rem实现原理
- 手写实现AJAX
- 实现拖拽

### 一、实现一个new操作符

参考文章

### 二、实现一个JSON.stringify

```
```

### 三、实现一个JSON.parse

```
```

### 四、实现一个call或apply

参考文章

### 五、实现一个Function.bind

参考文章

### 六、实现一个继承

```

```

### 七、实现一个JS函数柯里化

```

```

### 八、手写一个Promise(中高级必考)

```

```

### 九、手写防抖(Debouncing)和节流(Throttling)

```

```

### 十、手写一个JS深拷贝

```

```

### 十一、实现一个instanceOf

instanceof可以判断一个实例是否是其父类型或者祖先类型的实例

instanceof主要的实现原理就是只要右边变量的prototype在左边变量的原型链上即可。因此，instanceof在查找的过程中会遍历左边变量的原型链，直到找到右边变量的prototype，如果查找失败，则会返回false，告诉我们左边变量并非是右边变量的实例。

```
    function instanceof(left,right){
        let proto = left.__proto__;
        let prototype = right.prototype;
        while(true){
            if(proto == null) return false
            if(proto == prototype) return true
            proto = proto.__proto__;
        }
    }

```

[代码](https://github.com/ftTony/notes/blob/master/%20InterviewQuestion/instanceof.js)

### 实现一个基本的Event Bus

```
// 组件通信，一个触发与监听的过程
class EventEmitter{
    constructor(){
        // 存储事件
        this.events = this.events || new Map()
    }
    // 监听事件
    addListener (type,fn){
        if(!this.events.get(type)){
            this.events.set(type,fn)
        }
    }
    // 触发事件
    emit (type) {
        let handle = this.events.get(type);
        handle.apply(this,[...arguments].slice(1))
    }
}

// 测试
let emitter = new EventEmitter()

// 监听事件
emitter.addListener('ages', age => {
    console.log(age)
})

// 触发事件
emiter.emit('ages',18)  // 18

```

### Object.create的基本实现原理

```
// 思路：将传入的对象作为原型
function create(obj){
    function F(){}
    F.prototype = obj
    return new F()
}

```

### 使用setTimeout模拟setInterval

```
// 可避免setInterval因执行时间导致的间隔执行时间不一致
setTimeout(function(){
    setTimeout(arguments.callee,500)
},500);

```

### 简单实现一个双向数据绑定

```
let obj = {}
let input = document.getElementById('input')
let span = document.getElementById('span')

// 数据劫持
Object.defineProperty(obj,'text',{
    configurable:true,
    enumerable:true,
    get(){
        console.log('获取数据了')
    },
    set(newVal)[
        console.log('数据更新了')
        input.value = newVal
        span.innerHTML = newVal
    ]
})

// 输入监听
input.addEventListener('keyup',function(e){
    obj.text = e.target.value
})

```

### 实现一个简单路由

```
// hash 路由
class Route{
    constructor(){
        // 路由存储对象
        this.router = {}
        // 当前hash
        this.currentHash = ''
        // 绑定this,避免监听时this指向改变
        this.freshRoute = this.freshRoute.bind(this)
        // 监听
        window.addEventListener('load',this.freshRoute,false)
        window.addEventListener('haschange',this.freshRoute,false)
    }
    // 存储
    storeRoute (path,cb){
        this.currentHash = location.hash.slice(1) || '/'
        this.routes[this.currentHash]()
    }
}

```

### 实现懒加载

HTML

```
<ul>
  <li><img src="./imgs/default.png" data="./imgs/1.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/2.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/3.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/4.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/5.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/6.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/7.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/8.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/9.png" alt=""></li>
  <li><img src="./imgs/default.png" data="./imgs/10.png" alt=""></li>
</ul>

```

JS
```

```
### rem实现原理

```


```

### 手写实现AJAX

```
```

### 实现拖拽

```
```

### 参考资料

- [20道JS原理题助你面试一臂之力！](https://mp.weixin.qq.com/s/rdVaUJI9ZDLQLFMaI0896A)
- [JavaScript 手写代码无敌秘籍](https://mp.weixin.qq.com/s/4uzNKQcKB5YJbtXF4NQyWg)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img src="../img/contact.png" />
</div>